namespace: mdns-advertiser

mdns-advertiser:
  services:
    # Time Machine backup server
    - name: timemachine
      hostname: timemachine
      ip: 192.168.0.201  # Must match time-machine service.loadBalancerIP
      port: 445
      types:
        # SMB file sharing
        - type: _smb._tcp
        # Apple disk service (required for Time Machine auto-discovery)
        # Each user's share is advertised as a Time Machine volume
        - type: _adisk._tcp
          txtRecords:
            - "sys=adVF=0x100"
            - "dk0=adVN=ben,adVF=0x82"
            - "dk1=adVN=emilie,adVF=0x82"
        # Device info (shows as Time Capsule in Finder)
        - type: _device-info._tcp
          txtRecords:
            - "model=TimeCapsule8,119"

    # Add more services here as needed:
    # - name: Home Assistant
    #   hostname: homeassistant
    #   ip: 192.168.0.202
    #   port: 8123
    #   types:
    #     - type: _home-assistant._tcp
