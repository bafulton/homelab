namespace: kubernetes-dashboard

# Use AVP (ArgoCD Vault Plugin) to inject CSRF key from Bitwarden
useAVP: true

# Bitwarden secrets pulled via ExternalSecret
bitwarden-secret:
  enabled: true
  secrets:
    - name: kube-dashboard-csrf
      data:
        csrfKey: "b83311b5-d7ec-4f3f-af14-b3c901746914"

tailscale-ingress:
  enabled: true
  ingresses:
    - name: tailscale
      hostname: kube-dashboard
      service:
        create: true
        targetPort: 8000
        targetSelector:
          app.kubernetes.io/instance: kubernetes-dashboard
          app.kubernetes.io/name: kong

adminUser:
  enabled: true
  longLived: true

kubernetes-dashboard:
  # A complete list of values can be found here:
  # https://github.com/kubernetes/dashboard/blob/master/charts/kubernetes-dashboard/values.yaml

  # CSRF key injected via AVP from Kubernetes Secret (synced from Bitwarden via ESO)
  app:
    security:
      csrfKey: <path:kubernetes-dashboard:kube-dashboard-csrf#csrfKey>

  kong:
    proxy:
      # http, but served behind tailscale (https) ingress
      http:
        enabled: true
