namespace: kubernetes-dashboard

# Ignore resources with randomly generated values that change on every Helm template
ignoreDifferences:
  # CSRF secret contains a randomly generated key
  - kind: Secret
    name: kubernetes-dashboard-csrf
    jsonPointers:
      - /data
  # Deployment checksum annotations change because they hash the CSRF secret
  - group: apps
    kind: Deployment
    name: kubernetes-dashboard-api
    jqPathExpressions:
      - .spec.template.metadata.annotations["checksum/config"]
  - group: apps
    kind: Deployment
    name: kubernetes-dashboard-auth
    jqPathExpressions:
      - .spec.template.metadata.annotations["checksum/config"]

tailscale-ingress:
  enabled: true
  ingresses:
    - name: tailscale
      hostname: kube-dashboard
      service:
        create: true
        targetPort: 8000
        targetSelector:
          app.kubernetes.io/instance: kubernetes-dashboard
          app.kubernetes.io/name: kong

adminUser:
  enabled: true
  longLived: true

kubernetes-dashboard:
  # A complete list of values can be found here:
  # https://github.com/kubernetes/dashboard/blob/master/charts/kubernetes-dashboard/values.yaml

  kong:
    proxy:
      # http, but served behind tailscale (https) ingress
      http:
        enabled: true
