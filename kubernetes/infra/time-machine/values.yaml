namespace: time-machine

# MetalLB LoadBalancer IP (from pool 192.168.0.200-250)
service:
  loadBalancerIP: "192.168.0.201"

# Storage configuration
# NVMe disk is ~1.9TB, so request 1.8Ti to leave headroom
storage:
  storageClass: longhorn-nvme
  size: 1800Gi

# Time Machine configuration
# Single shared account - per-machine quotas enforced via .quota.plist
timemachine:
  user: Family
  uid: 1000
  # Per-machine quota in bytes (900GB = 900000000000)
  # Each Mac gets this much space independently
  quotaBytes: 900000000000

# Samba image configuration
image:
  repository: mbentley/timemachine
  # renovate: datasource=docker depName=mbentley/timemachine
  tag: smb
  pullPolicy: IfNotPresent

# Bitwarden secrets for SMB password
bitwarden-secret:
  enabled: true
  secrets:
    - name: time-machine-credentials
      data:
        # Reusing ben's password - can create a dedicated one later
        password: "a00db757-d2bf-495a-b33a-b3cf002ad2a3"
