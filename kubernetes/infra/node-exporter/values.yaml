namespace: node-exporter

prometheus-node-exporter:
  # Prometheus annotations for auto-discovery by signoz-k8s-infra
  service:
    annotations:
      prometheus.io/scrape: "true"
      prometheus.io/port: "9100"

  # Enable additional collectors (most are enabled by default)
  extraArgs:
    - --collector.hwmon
    - --collector.thermal_zone
    - --collector.cpu.info
    - --collector.pressure
    - --collector.processes

  # Node exporter needs access to host paths for hardware metrics
  hostRootFsMount:
    enabled: true
    mountPropagation: HostToContainer

  # Tolerate all taints to run on all nodes (including control plane)
  tolerations:
    - effect: NoSchedule
      operator: Exists
